//
// Created by jacki on 5/8/2024.
//

#include "Application.h"
//std::vector<Application*> Application::appVector;
//Application::Application()
//{
//    appVector.push_back(this);
//}
//
//void Application::appPointerPush(Application *app)
//{
//    appVector.push_back(app);
//}
//
//void Application::setData(std::string s)
//{
//    data = s;
//}
void Application::run()
{
    srand(time(0));
    sf::Rect<float> rect1, rect2;
    sf::RectangleShape rec;
    rec.setSize({rect1.width, rect1.height});
    rect1.width = rec.getSize().x;
    rect1.height = rec.getSize().y;
    rect1.intersects(rect2);
//    std::vector<int> v = {371,326,189,349,268,159,376,223,170,282,8,345,192,21,71,98,78,375,121,346,320,130,241,272,169,227,198,124,184,72,139,302,117,283,379,191,204,308,318,185,109,400,197,355,291,205,112,196,210,38,119,19,92,350,18,224,279,299,94,331,269,296,150,181,126,257,138,246,255,317,254,399,55,176,68,253,221,207,91,348,232,157,81,295,344,89,88,322,22,120,311,104,96,97,77,179,329,36,171,160,66,99,100,315,319,260,383,20,281,365,351,270,267,259,34,209,387,391,95,220,229,396,274,307,144,226,258,362,25,63,133,215,134,137,187,388,216,142,332,59,6,141,145,214,41,177,222,110,2,245,53,29,239,4,113,108,234,195,152,129,149,339,165,395,122,147,273,386,24,336,128,300,103,1,164,321,301,12,123,10,381,131,182,76,153,35,70,51,156,74,111,49,32,183,30,340,305,235,359,286,186,105,251,397,364,294,263,146,292,158,212,280,242,174,82,297,334,373,3,80,330,266,201,194,225,303,11,132,287,237,23,240,380,289,310,54,5,228,213,385,277,250,382,7,392,341,290,16,45,217,85,39,40,306,118,9,148,393,343,247,93,378,309,48,298,333,60,47,384,236,193,288,202,342,135,61,102,252,26,370,357,265,275,114,389,314,361,366,390,312,90,325,163,352,101,278,151,377,394,67,83,244,206,62,316,180,367,27,64,211,360,173,116,69,248,208,79,338,398,293,324,57,203,354,200,172,337,363,264,230,31,175,256,347,372,43,42,15,323,328,335,13,369,52,136,285,28,327,106,65,374,199,368,261,37,190,127,249,243,162,17,358,73,115,353,168,107,86,140,44,125,262,56,304,50,167,178,276,238,284,14,87,313,356,75,33,271,155,231,188,161,218,154,233,58,143,46,166,219,84};
    sf::RenderWindow window(sf::VideoMode(1600, 900, 32), "Merge Sort Animation");
    sf::ContextSettings context;
    context.antialiasingLevel = 100;
    std::vector<int> v;
    for(int i=0; i<800; i++)
    {
        v.push_back(rand() % 5000);
    }
    ItemList il(v);
    il.initBars(window);
    while(window.isOpen())
    {
        sf::Event event;
        while(window.pollEvent(event)){
            if (event.type == sf::Event::Closed)
            {
                window.close();
            }
            if (sf::Keyboard::isKeyPressed(sf::Keyboard::Space))
                il.mergeSort(window);
        }
        window.clear(sf::Color::Black);
        window.draw(il);
        window.display();
    }
}
